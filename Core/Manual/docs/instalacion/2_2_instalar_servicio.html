<!DOCTYPE>
<html lang="es-ar" data-theme="light">
<head>
    <link rel="stylesheet" href="../../style.css">
</head>
<body class="content">
    <h1>Instalar Servicio</h1>
    <p><b>Enlace de descarga: <a href="https://github.com/runfo-sa/visual-ternera-servicio/releases" target="_blank">Visual Ternera Servicio - GitHub</a></b></p>
    <p>El servicio para controlar el estado de etiqueta en los puestos está dividido en dos aplicaciones.</p>
    <p>Un servidor web API y un servicio de Windows que reporta al servidor su estado de etiquetas cada cierto tiempo.</p>
    <p>Por eso el proceso de instalación está dividido en dos partes:</p>
    <ul>
        <li><a href="#server">Instalar Servidor</a></li>
        <li><a href="#client">Instalar Cliente</a></li>
    </ul>

    <h1 id="server">Instalar Servidor</h1>

    <h2>Preparar el servidor</h2>
    <p>
        Copiar la carpeta <b>'Servidor'</b> a la carpeta que lee el servicio http elegido.
        <br />
        Un servicio http recomendado es <a href="https://learn.microsoft.com/es-mx/iis/get-started/introduction-to-iis/iis-web-server-overview" target="_blank">IIS de Microsoft.</a>
        <br />
        Enlace a como crear un sitio web con IIS: <a href="https://learn.microsoft.com/es-es/iis/get-started/getting-started-with-iis/create-a-web-site" target="_blank">Crear un Sitio web</a>.
    </p>

    <h2>Preparar la base de datos</h2>
    <p>
        <b>1.</b> Para conectar el servidor con la base de datos se debe ejecutar el script <b>'deploy_VSTS.sql'</b>,
        el cual crea la base de datos y las tablas necesarias para que funcione el servidor.
    </p>
    <p>
        <b>2.</b> Modificar la cadena de conexión <b>'DefaultConnection'</b> dentro del archivo <b>'appsettings.json'</b>
        dentro de la carpeta raíz del servidor.
    </p>
    <p><b>3.</b> Crear un usuario para el servidor dentro de la instancia de SQL Server y asignarle el rol <b>'vsts_server'</b>.</p>

    <h1 id="client">Instalar Cliente</h1>
    <p>El servidor ofrece un enlace para descargar el instalador para los clientes, el enlace seria <b>http://{hostname}:{port}/instalador?key={llave}</b></p>
    <p>
        El instalador es un Powershell script llamado <b>'installer.ps1'</b>,
        para poder instalarlo debe ser ejecutado como Administrador y el script se encargará de crear e iniciar el servicio.
    </p>
</body>
</html>
